USE cdac_python_programming_ex_11;

CREATE TABLE CLIENT_MASTER (
    CLIENTNO VARCHAR(6) NOT NULL PRIMARY KEY,
    NAME VARCHAR(20) NOT NULL,
    CITY VARCHAR(15),
    PINCODE NUMERIC(8),
    STATE VARCHAR(15),
    BALDUE NUMERIC(10,2),
    CONSTRAINT chk_clientno CHECK (CLIENTNO LIKE 'C%')
);

SELECT * FROM CLIENT_MASTER;

CREATE TABLE PRODUCT_MASTER (
    PRODUCTNO VARCHAR(6) NOT NULL PRIMARY KEY,
    DESCRIPTION VARCHAR(15) NOT NULL,
    PROFITPERCENT NUMERIC(4,2) NOT NULL,
    UNITMEASURE VARCHAR(10) NOT NULL,
    QTYONHAND NUMERIC(8) NOT NULL,
    REORDERLVL NUMERIC(8) NOT NULL,
    SELLPRICE NUMERIC(8,2) NOT NULL CHECK (SELLPRICE > 0),
    COSTPRICE NUMERIC(8,2) NOT NULL CHECK (COSTPRICE > 0),
    CONSTRAINT chk_productno CHECK (PRODUCTNO LIKE 'P%')
);

SELECT * FROM PRODUCT_MASTER;


CREATE TABLE SALESMAN_MASTER (
    SALESMANNO VARCHAR(6) NOT NULL PRIMARY KEY,
    SALESMANNAME VARCHAR(20) NOT NULL,
    ADDRESS1 VARCHAR(30) NOT NULL,
    ADDRESS2 VARCHAR(30),
    CITY VARCHAR(20),
    PINCODE NUMERIC(8),
    STATE VARCHAR(20),
    SALAMT NUMERIC(8,2) NOT NULL CHECK (SALAMT > 0),
    TGTTOTGET NUMERIC(6,2) NOT NULL CHECK (TGTTOTGET > 0),
    YTDSALES NUMERIC(6,2) NOT NULL,
    REMARKS VARCHAR(60),
    CONSTRAINT chk_salesmanno CHECK (SALESMANNO LIKE 'S%')
);

SELECT * FROM SALESMAN_MASTER;

CREATE TABLE SALES_ORDER (
    ORDERNO VARCHAR(6) PRIMARY KEY CHECK (ORDERNO LIKE 'O%'),
    CLIENTNO VARCHAR(6),
    ORDERDATE DATE NOT NULL,
    DELYADDR VARCHAR(25),
    SALESMANNO VARCHAR(6),
    DELYTYPE CHAR(1),
    BILLYN CHAR(1),
    DELYDATE DATE,
    ORDERSTATUS VARCHAR(18),
    FOREIGN KEY (CLIENTNO) REFERENCES CLIENT_MASTER(CLIENTNO),
    FOREIGN KEY (SALESMANNO) REFERENCES SALESMAN_MASTER(SALESMANNO)
);
SELECT * FROM SALES_ORDER;

CREATE TABLE SALES_ORDER_DETAILS(
	ORDERNO VARCHAR(6), FOREIGN KEY (ORDERNO) REFERENCES SALES_ORDER(ORDERNO),
    PRODUCTNO VARCHAR(6), FOREIGN KEY (PRODUCTNO) REFERENCES PRODUCT_MASTER(PRODUCTNO),
    QTYORDERED NUMERIC(8),
    QTYDISP NUMERIC(8),
    PRODUCTRATE NUMERIC(10,2)
);

SELECT * FROM SALES_ORDER_DETAILS;

INSERT INTO CLIENT_MASTER VALUES(
	'C00001',
    'Ivan Bayross',
    'Mumbai',
    400054,
    'Maharashtra',
    15000
);

SELECT * FROM CLIENT_MASTER;

INSERT INTO CLIENT_MASTER VALUES
	('C00003', 'Chhaya Bankar', 'Mumbai', 400057, 'Maharashtra', 5000),
    ('C00004', 'Ashwini Joshi', 'Bangalore', 560001, 'Karnataka', 0),
    ('C00005', 'Hansel Colaco', 'Mumbai', 400060, 'Maharashtra', 2000),
    ('C00006', 'Deepak Sharma', 'Mangalore', 560050, 'Karnataka', 0);

SELECT * FROM CLIENT_MASTER;

INSERT INTO PRODUCT_MASTER VALUES
	('P00001', 'T-shirts', 5, 'Piece', 200, 50, 350, 250),
    ('P03453', 'Shirts', 6, 'Piece', 150, 50, 500, 350),
    ('P06734', 'Cotton Jeans', 5, 'Piece', 100, 20, 600, 450),
    ('P07865', 'Jeans', 5, 'Piece', 100, 20, 750, 500),
    ('P07868', 'Trousers', 2, 'Piece', 150, 50, 850, 550),
    ('P07885', 'Pull Overs', 2.5, 'Piece', 80, 30, 700, 450),
    ('P07965','Denim Shirts', 4, 'Piece', 100, 40, 350, 250),
    ('P07975', 'Lycra Tops', 5, 'Piece', 70, 30, 300, 175),
    ('P08865', 'Skirts', 5, 'Piece', 75, 30, 450, 300);

SELECT * FROM PRODUCT_MASTER;

INSERT INTO SALESMAN_MASTER VALUES 
	('S00001', 'Aman', 'A/14', 'Worli', 'Mumbai', 400002, 'Maharashtra', 3000, 100, 50, 'Good'),
    ('S00002', 'Omkar', '65', 'Nariman', 'Mumbai', 400001, 'Maharashtra', 3000, 200, 100, 'Good'),
    ('S00003', 'Raj', 'P-7', 'Bandra', 'Mumbai', 400032, 'Maharashtra', 3000, 200, 100, 'Good'),
    ('S00004', 'Ashish', 'A/5', 'Juhu', 'Bombay', 400044, 'Maharashtra', 3500, 200, 150, 'Good');

SELECT * FROM SALESMAN_MASTER;

INSERT INTO SALES_ORDER VALUES
	('O19003', 'C00001', '2002-04-03', 'Delhi', 'S00001', 'F', 'Y', '2002-04-07', 'Fulfilled'),
    ('O46866', 'C00004', '2002-05-20', 'Delhi', 'S00002', 'P', 'N', '2002-05-22', 'Cancelled'),
    ('O19008', 'C00005', '2002-05-24', 'Delhi', 'S00004', 'F', 'N', '1996-07-26', 'In Process'),
    ('O19001', 'C00001', '2002-06-12', 'Delhi', 'S00001', 'F', 'N', '2002-07-20', 'In Process'),
    ('O19002', 'C00003', '2002-06-25', 'Delhi', 'S00002', 'P', 'N', '2002-07-27', 'Cancelled');
    
SELECT * FROM SALES_ORDER;


INSERT INTO SALES_ORDER_DETAILS VALUES
	('O19001', 'P00001', 4, 4, 525),
    ('O19001', 'P07965', 2, 1, 8400),
    ('O19001', 'P07885', 4, 1, 5250),
    ('O19002', 'P00001', 10, 0, 525),
    ('O46866', 'P07868', 3, 3, 3150),
    ('O46866', 'P07885', 3, 1, 5250),
    ('O46866', 'P00001', 10, 10, 525),
    ('O46866', 'P03453', 4, 4, 1050),
    ('O19003', 'P03453', 2, 2, 1050),
    ('O19003', 'P06734', 1, 1, 12000),
    ('O46866', 'P07965', 1, 0, 8400),
    ('O46866', 'P07975', 1, 0, 1050),
    ('O19008', 'P00001', 10, 5, 525),
    ('O19008', 'P07975', 5, 3, 1050);
    
SELECT * FROM SALES_ORDER_DETAILS;
    
    